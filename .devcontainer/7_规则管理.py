import streamlit as st
import pandas as pd
import numpy as np

st.title("ğŸ§  è§„åˆ™ç®¡ç†ä¸­å¿ƒï¼ˆä¸­å°ç‰ˆï¼‰")

st.markdown("""
è§„åˆ™ç®¡ç†ä¸­å¿ƒç”¨äºç»Ÿä¸€ç®¡ç†é£é™©è§„åˆ™ï¼Œæ”¯æŒé˜ˆå€¼è°ƒæ•´ã€å¯ç”¨/ç¦ç”¨æ§åˆ¶åŠè§„åˆ™å‘½ä¸­ç»Ÿè®¡ã€‚
å½“å‰ä¸ºæ¼”ç¤ºç‰ˆæœ¬ã€‚
""")

# =========================
# 1ï¸âƒ£ å½“å‰è§„åˆ™åˆ—è¡¨
# =========================

st.subheader("ğŸ“‹ å½“å‰è§„åˆ™åˆ—è¡¨")

rules_data = pd.DataFrame({
    "è§„åˆ™åç§°": ["çŸ­æœŸæŠ•ä¿è§„åˆ™", "é«˜é¢‘æŠ¥æ¡ˆè§„åˆ™", "å†å²è°ƒæŸ¥è§„åˆ™"],
    "è§„åˆ™è¯´æ˜": [
        "æŠ•ä¿è‡³å‡ºé™© â‰¤ æŒ‡å®šå¤©æ•°",
        "è¿‘ä¸€å¹´æŠ¥æ¡ˆæ¬¡æ•° â‰¥ æŒ‡å®šæ¬¡æ•°",
        "å†å²å­˜åœ¨è°ƒæŸ¥è®°å½•"
    ],
    "å½“å‰çŠ¶æ€": ["å¯ç”¨", "å¯ç”¨", "å¯ç”¨"]
})

st.dataframe(rules_data, use_container_width=True)

# =========================
# 2ï¸âƒ£ è§„åˆ™é˜ˆå€¼è°ƒæ•´ï¼ˆæ¼”ç¤ºï¼‰
# =========================

st.subheader("âš™ è§„åˆ™å‚æ•°é…ç½®")

short_term_days = st.slider(
    "çŸ­æœŸæŠ•ä¿é˜ˆå€¼ï¼ˆå¤©ï¼‰",
    min_value=1,
    max_value=180,
    value=30
)

high_freq_times = st.slider(
    "é«˜é¢‘æŠ¥æ¡ˆé˜ˆå€¼ï¼ˆæ¬¡/å¹´ï¼‰",
    min_value=1,
    max_value=10,
    value=3
)

st.info(f"å½“å‰é…ç½®ï¼šæŠ•ä¿â‰¤{short_term_days}å¤© ï¼›æŠ¥æ¡ˆâ‰¥{high_freq_times}æ¬¡")

# =========================
# 3ï¸âƒ£ è§„åˆ™å¯ç”¨æ§åˆ¶ï¼ˆæ¼”ç¤ºï¼‰
# =========================

st.subheader("ğŸ”˜ è§„åˆ™å¯ç”¨æ§åˆ¶")

rule1 = st.checkbox("å¯ç”¨ çŸ­æœŸæŠ•ä¿è§„åˆ™", value=True)
rule2 = st.checkbox("å¯ç”¨ é«˜é¢‘æŠ¥æ¡ˆè§„åˆ™", value=True)
rule3 = st.checkbox("å¯ç”¨ å†å²è°ƒæŸ¥è§„åˆ™", value=True)

# =========================
# 4ï¸âƒ£ è§„åˆ™å‘½ä¸­ç»Ÿè®¡ï¼ˆæ¨¡æ‹Ÿï¼‰
# =========================

st.subheader("ğŸ“Š è§„åˆ™å‘½ä¸­ç»Ÿè®¡")

hit_data = pd.DataFrame({
    "è§„åˆ™åç§°": ["çŸ­æœŸæŠ•ä¿è§„åˆ™", "é«˜é¢‘æŠ¥æ¡ˆè§„åˆ™", "å†å²è°ƒæŸ¥è§„åˆ™"],
    "å‘½ä¸­æ¬¡æ•°": np.random.randint(50, 300, 3)
})

st.bar_chart(hit_data.set_index("è§„åˆ™åç§°"))

# =========================
# 5ï¸âƒ£ å‘å¸ƒè§„åˆ™æŒ‰é’®ï¼ˆæ¨¡æ‹Ÿï¼‰
# =========================

if st.button("å‘å¸ƒè§„åˆ™å˜æ›´ï¼ˆæ¨¡æ‹Ÿï¼‰"):
    st.success("è§„åˆ™é…ç½®å·²å‘å¸ƒï¼ˆæ¨¡æ‹Ÿï¼‰")

# =========================
# 6ï¸âƒ£ è§„åˆ™è¯´æ˜
# =========================

st.subheader("ğŸ“Œ æ¨¡å—è¯´æ˜")

st.markdown("""
- æ”¯æŒè§„åˆ™é›†ä¸­ç®¡ç†  
- æ”¯æŒé˜ˆå€¼åŠ¨æ€è°ƒæ•´  
- æ”¯æŒè§„åˆ™å¯ç”¨ / ç¦ç”¨  
- æ”¯æŒè§„åˆ™å‘½ä¸­ç»Ÿè®¡åˆ†æ  
- æœªæ¥å¯æ¥å…¥æ•°æ®åº“å®ç°æŒä¹…åŒ–å­˜å‚¨  
""")